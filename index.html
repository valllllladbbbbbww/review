<!DOCTYPE html>
.stars span { font-size: 32px; cursor: pointer; color: #ccc; }
.stars .active { color: gold; }
</style>
</head>
<body>
<h2>Kirim Review ⭐</h2>


<label>Nama</label><br>
<input type="text" id="nama" placeholder="Nama kamu" /><br><br>


<label>Rating</label>
<div class="stars" id="ratingBox">
<span data-val="1">★</span>
<span data-val="2">★</span>
<span data-val="3">★</span>
<span data-val="4">★</span>
<span data-val="5">★</span>
</div><br>


<label>Komentar</label><br>
<textarea id="komentar" placeholder="Tulis komentar..." rows="4"></textarea><br><br>


<button id="kirim">Kirim Review</button>


<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";


const firebaseConfig = {
apiKey: "REPLACE_ME",
authDomain: "REPLACE_ME",
projectId: "REPLACE_ME",
storageBucket: "REPLACE_ME",
messagingSenderId: "REPLACE_ME",
appId: "REPLACE_ME"
};


const app = initializeApp(firebaseConfig);
const db = getFirestore(app);


let rating = 0;


const stars = document.querySelectorAll('#ratingBox span');
stars.forEach(star => {
star.addEventListener('click', () => {
rating = star.dataset.val;
stars.forEach(s => s.classList.remove('active'));
for (let i = 0; i < rating; i++) stars[i].classList.add('active');
});
});


document.getElementById("kirim").addEventListener("click", async () => {
const nama = document.getElementById("nama").value.trim();
const komentar = document.getElementById("komentar").value.trim();


if (!nama || !komentar || rating === 0) {
alert("Isi semua data termasuk rating!");
return;
}


await addDoc(collection(db, "reviews"), {
nama: nama,
rating: rating,
komentar: komentar,
waktu: new Date().toISOString()
});


alert("Review terkirim!");
location.reload();
});
</script>
</body>
</html>
