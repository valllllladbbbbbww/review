<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin Review Panel</title>
<style>
body { font-family: Arial, sans-serif; background: #e9e9e9; padding: 20px; }
.wrapper { max-width: 800px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; }
.review { border: 1px solid #ccc; padding: 10px; border-radius: 8px; margin-bottom: 10px; background: #fafafa; }
.hapus-btn { padding: 6px 12px; border: none; border-radius: 6px; background: #dc3545; color: white; cursor: pointer; }
</style>


<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
</head>
<body>
<div class="wrapper">
<h2>Daftar Review Masuk</h2>
<div id="review-admin"></div>
</div>


<script>
const firebaseConfig2 = {
apiKey: "....",
authDomain: "....firebaseapp.com",
projectId: "....",
storageBucket: "....appspot.com",
messagingSenderId: "....",
appId: "...."
};


const app2 = firebase.initializeApp(firebaseConfig2, "admin");
const db2 = firebase.firestore(app2);


function loadReview() {
db2.collection("reviews").orderBy("waktu", "desc").onSnapshot(snapshot => {
const container = document.getElementById('review-admin');
container.innerHTML = '';


snapshot.forEach(doc => {
const data = doc.data();
container.innerHTML += `
<div class="review">
<strong>${data.nama}</strong><br>
<p>${data.pesan}</p>
<button class='hapus-btn' onclick="hapus('${doc.id}')">Hapus</button>
</div>`;
});
});
}


function hapus(id) {
db2.collection("reviews").doc(id).delete();
}


loadReview();
</script>
</body>
</html>
