<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Review Ambrowniezz</title>
<style>
body { font-family: Arial; background:#f2f2f2; padding:20px; }
.box { max-width:700px; margin:auto; }
.review {
  background:white; padding:15px; border-radius:10px;
  box-shadow:0 0 10px #ddd; margin-bottom:15px;
}
.rating { color: gold; font-size:20px; }
button.delete {
  background:#dc3545; color:white; border:none; padding:5px 10px;
  border-radius:6px; cursor:pointer; float:right;
}
</style>
</head>
<body>

<h2 style="text-align:center;">Dashboard Review Ambrowniezz</h2>
<div class="box" id="reviewList">Loading...</div>

<script>
const API = "https://693805f24618a71d77ce98b3.mockapi.io/Reviews";

async function loadReview() {
  const res = await fetch(API);
  const data = await res.json();

  let html = "";
  data.reverse().forEach(r => {
    html += `
      <div class="review">
        <button class="delete" onclick="hapus('${r.id}')">Hapus</button>
        <h3>${r.nama}</h3>
        <div class="rating">${"★".repeat(r.rating)}${"☆".repeat(5 - r.rating)}</div>
        <p>${r.komentar}</p>
        <small>${new Date(r.waktu).toLocaleString()}</small>
      </div>
    `;
  });

  document.getElementById("reviewList").innerHTML = html;
}

async function hapus(id) {
  if (!confirm("Yakin ingin menghapus review ini?")) return;

  await fetch(`${API}/${id}`, { method: "DELETE" });
  loadReview();
}

loadReview();
</script>

</body>
</html>
